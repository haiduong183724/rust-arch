app = "clean-arch"

kill_signal = "SIGINT"
kill_timeout = 5

[env]
LOG_LEVEL = "info"

[deploy]
release_command = "bin/migrate"

[experimental]
allowed_public_ports = []
auto_rollback = true

[build]
image = "rust:latest"

[[services]]
internal_port = 8080
protocol = "tcp"

[services.concurrency]
type = "connections"
hard_limit = 25
soft_limit = 20

[[services.ports]]
handlers = ["http"]
port = "80"

[[services.ports]]
handlers = ["tls", "http"]
port = "443"

[[services.tcp_checks]]
interval = 10000
timeout = 2000
grace_period = "5s"
restart_limit = 0
